(this["webpackJsonpredux-example"]=this["webpackJsonpredux-example"]||[]).push([[0],{69:function(e,t,n){"use strict";n.r(t);var r=n(11),c=n(13),o=n(3),i=n(15),a=n.n(i),s=n(0),u=n(1),l=function(e){var t=e.movieList,n=e.getMovieList;return Object(s.useEffect)((function(){n()}),[n]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"My Movie List"}),t&&t.list&&t.list.map((function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:e.Poster,alt:"".concat(e.Title," poster")}),Object(u.jsx)("h3",{children:e.Title})]},e.imdbID)}))]})},d=l=Object(r.b)((function(e){return{movieList:e.movieListReducer}}),{getMovieList:function(){return{type:"GET_MOVIE_LIST"}}})(l),j=n(14),p=n.n(j),b=n(19),v=n(16),h=n(32),f=n(33),O=n(20),m=n.n(O),x="379060c8",g=function(){function e(){Object(h.a)(this,e)}return Object(f.a)(e,[{key:"getMoviesByTitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return m.a.get("https://www.omdbapi.com/?s=".concat(e,"&page=").concat(t,"&apikey=").concat(x)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}},{key:"getMovieById",value:function(e){return m.a.get("https://www.omdbapi.com/?i=".concat(e,"&apikey=").concat(x)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}}]),e}(),y=function(e){var t=e.onSearch,n=Object(s.useState)(),r=Object(v.a)(n,2),c=r[0],o=r[1];return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(c)},children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"title",children:"Title"}),Object(u.jsx)("input",{type:"text",onChange:function(e){return o(e.target.value)}})]}),Object(u.jsx)("button",{type:"submit",children:"Search"})]})},S=function(e){var t=e.addMovieToList,n=new g,r=Object(s.useState)(),c=Object(v.a)(r,2),o=c[0],i=c[1],a=function(){var e=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getMoviesByTitle(t);case 2:r=e.sent,i(r.Search);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(b.a)(p.a.mark((function e(r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getMovieById(r);case 2:c=e.sent,t(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{children:[Object(u.jsx)(y,{onSearch:a}),o&&o.map((function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:e.Poster,alt:"".concat(e.Title," poster")}),Object(u.jsx)("h3",{children:e.Title}),Object(u.jsx)("button",{onClick:function(){return l(e.imdbID)},children:"Add To List"})]},e.imdbID)}))]})},T=S=Object(r.b)(null,{addMovieToList:function(e){return{type:"ADD_MOVIE_TO_LIST",payload:e}}})(S),L=n(9),w=n(34),I=function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var r=t(n);return console.log("next state",e.getState()),console.groupEnd(),r}}},M=function(e){return function(t,n,r){return e((function(e,n){var r,c=performance.now(),o=t(e,n),i=performance.now(),a=(r=i-c,Math.round(100*r)/100);return console.log("reducer process time:",a),o}),n,r)}},_=n(35),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIE_LIST":var n=localStorage.getItem("movieList");return n?JSON.parse(n):e;case"ADD_MOVIE_TO_LIST":var r=localStorage.getItem("movieList");return r?(r=JSON.parse(r)).list.push(t.payload):r={list:[t.payload]},localStorage.setItem("movieList",JSON.stringify(r)),r;default:return e}},D=Object(L.combineReducers)({movieListReducer:k});var E=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(c.b,{to:"/",children:"Home"}),Object(u.jsx)(c.b,{to:"/movie-list",children:"Movie List"})]})};a.a.render(Object(u.jsx)(r.a,{store:function(e){var t=[I,w.a],n=[L.applyMiddleware.apply(void 0,t),M];return Object(L.createStore)(D,e,_.composeWithDevTools.apply(void 0,n))}(),children:Object(u.jsxs)(c.a,{children:[Object(u.jsx)(E,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",component:T}),Object(u.jsx)(o.a,{exact:!0,path:"/movie-list",component:d})]})]})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.45e27441.chunk.js.map